<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>PDF to Image</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.2.67/pdf.min.js"></script>
</head>
<body>
  <input type="file" id="pdf-upload" accept="application/pdf">
  <div id="output"></div>
  <script>
    document.getElementById('pdf-upload').onchange = function(evt) {
      const file = evt.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const typedarray = new Uint8Array(e.target.result);
        pdfjsLib.getDocument({data: typedarray}).promise.then(async function(pdf) {
          for (let i = 1; i <= pdf.numPages; i++) {
            const page = await pdf.getPage(i);
            const viewport = page.getViewport({scale:2});
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            await page.render({canvasContext: context, viewport: viewport}).promise;
            const img = document.createElement('img');
            img.src = canvas.toDataURL('image/png');
            img.style.maxWidth = "400px";
            document.getElementById('output').appendChild(img);
          }
        });
      };
      reader.readAsArrayBuffer(file);
    };
  </script>
</body>
</html>
